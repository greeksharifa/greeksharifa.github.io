<!DOCTYPE html>
<html lang="en-us">
<head>
  <head>
  <!-- Description of Blog -->
  <meta name="description" content="Python, Machine & Deep Learning">
  <link rel="canonical" href="https://greeksharifa.github.io/">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Python, Machine & Deep Learning">
  <meta property="og:description" content="Python, Machine Learning & Deep Learning 설명서">
  <meta property="og:image" content="https://greeksharifa.github.io/public/img/icon-144x144.png">
  <meta property="og:url" content="https://greeksharifa.github.io/">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Python, Machine & Deep Learning">
  <meta name="twitter:description" content="Python, Machine Learning & Deep Learning 설명서">
  <meta name="twitter:image" content="https://greeksharifa.github.io/public/img/icon-144x144.png">
  <meta name="twitter:domain" content="https://greeksharifa.github.io/">

  <!-- link -->
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  
  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      BOJ 06549(히스토그램에서 가장 큰 직사각형) 문제 풀이
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/main.css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="icon-144x144" sizes="144x144" href="/public/img/icon-144x144.png">
  <link rel="shortcut icon" href="/public/img/icon_32x32.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  
  <script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_SVG"> </script>
  <script type="text/x-mathjax-config">
MathJax.Hub.Config({ tex2jax: { inlineMath: [ ['$','$'], ["\\(","\\)"] ], processEscapes: true } });
  </script>
  

  <!-- Ads -->
  <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
  </script>
</head>

  <!-- for Google AdSense-->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-9951774327887666",
    enable_page_level_ads: true
  });
</script>

  <style>blockquote {
    font-size: 1em;
    line-height: 1.4
  }</style>
  <link href='http://fonts.googleapis.com/css?family=Gill+Sans' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Consolas' rel='stylesheet' type='text/css'>
</head>
<body>

<!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <div class="sidebar-personal-info">
      <div class="sidebar-personal-info-section">
        <a href="http://gravatar.com/3c2986ad7ac1f2230ea3596f44563328">
          <img src="/public/img/maple_tree.jpg" title="Cover Photo" alt="Maple tree" />
        </a>
      </div>
      <div class="sidebar-personal-info-section">
        <p><strong>Developer and Analyst</strong>, YW & YY.</p>
      </div>
      
      
      
      <div class="sidebar-personal-info-section">
        <p> Follow me:
        
        
        
        <a href="https://github.com/greeksharifa">
          <i class="fa fa-github" aria-hidden="true"></i>
        </a>
        
        |
        
        
        
        <a href="mailto:greeksharifa@gmail.com">
          <i class="fa fa-envelope" aria-hidden="true"></i>
        </a>
        
        
        
        </p>
      </div>
      
    </div>
  </div>

  <nav class="sidebar-nav">
    
      
      
      

      

      <span class="">
        <a class="sidebar-nav-item " href="/">
          Home
        </a>

        
      </span>

    
      
      
      

      

      <span class="foldable">
        <a class="sidebar-nav-item " href="/blog/">
          Blog
        </a>

        
          
            
            
            
              <a class="sidebar-nav-item sidebar-nav-item-sub " href="/blog/categories/">
                Categories
              </a>
          
        
          
            
            
            
              <a class="sidebar-nav-item sidebar-nav-item-sub " href="/blog/tags/">
                Tags
              </a>
          
        
      </span>

    
      
      
      

      

      <span class="">
        <a class="sidebar-nav-item " href="/about/">
          About
        </a>

        
      </span>

    
      
      
      

      

      <span class="">
        <a class="sidebar-nav-item " href="http://greeksharifa.github.io/">
          Github Project
        </a>

        
      </span>

    

  </nav>

  <div class="sidebar-item">
    <p>
    &copy; 2020 YW & YY. This work is liscensed under <a href="http://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a>.
    </p>
  </div>

  <div class="sidebar-item">
    <p>
    Powered by <a href="http://jekyllrb.com">jekyll</a> and <a href="http://greeksharifa.github.io">YW & YY</a>
    </p>
  </div>
</div>


<!-- Wrap is the content to shift when toggling the sidebar. We wrap the
     content to avoid any CSS collisions with our real content. -->
<div class="wrap">
  <div class="masthead">
    <div class="container">
      <h3 class="masthead-title" align="center">
        <a href="/" title="Home" title="YW & YY">
          <img class="masthead-logo" src="/public/img/logo.png"/>
        </a>
        <small>YW & YY's Python, Machine & Deep Learning</small>
        <!-- HTML elements for search -->
        <a href="/search/" id="search_icon">
          <img src="/public/img/search.png" width="25" height="25"
               align="right" style="margin-top:5px; margin-bottom:0;"
               onmouseover="this.style.opacity=0.7" onmouseout="this.style.opacity=0.5"
               alt="search">
        </a>
      </h3>
    </div>
  </div>

  <div class="container content">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 수직형 디스플레이 광고1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-9951774327887666"
     data-ad-slot="7237421728"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div class="post">
  <h1 class="post-title">BOJ 06549(히스토그램에서 가장 큰 직사각형) 문제 풀이</h1>
  <span class="post-date">07 Jul 2018</span>
   |
  
  <a href="/blog/tags/#ps" class="post-tag">PS</a>
  
  <a href="/blog/tags/#stack" class="post-tag">Stack</a>
  
  
  <article>
    <p><strong>목차</strong></p>
    <ul>
  <li><a href="#참조">참조</a></li>
  <li><a href="#개요">개요</a>
    <ul>
      <li><a href="#시간복잡도--otc-cdot-n-">시간복잡도: $ O(TC \cdot N) $</a></li>
      <li><a href="#공간복잡도--on-">공간복잡도: $ O(N) $</a></li>
    </ul>
  </li>
  <li><a href="#문제-풀이">문제 풀이</a>
    <ul>
      <li><a href="#on2-풀이-그냥-풀기">$O(N^2)$ 풀이: 그냥 풀기</a></li>
      <li><a href="#on-풀이-스택">$O(N)$ 풀이: 스택</a></li>
    </ul>
  </li>
  <li><a href="#구현">구현</a></li>
</ul>

    <h2 id="참조">참조</h2>

<table>
  <thead>
    <tr>
      <th>분류</th>
      <th>URL</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>문제</td>
      <td><a href="https://www.acmicpc.net/problem/6549">히스토그램에서 가장 큰 직사각형</a></td>
    </tr>
    <tr>
      <td>이 글에서 설명하는 코드</td>
      <td><a href="https://github.com/greeksharifa/ps_code/blob/master/BOJ/06549_%ED%9E%88%EC%8A%A4%ED%86%A0%EA%B7%B8%EB%9E%A8%EC%97%90%EC%84%9C%20%EA%B0%80%EC%9E%A5%20%ED%81%B0%20%EC%A7%81%EC%82%AC%EA%B0%81%ED%98%95.cpp">06549_히스토그램에서 가장 큰 직사각형</a></td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="개요">개요</h2>

<h3 id="시간복잡도--otc-cdot-n-">시간복잡도: $ O(TC \cdot N) $</h3>
<h3 id="공간복잡도--on-">공간복잡도: $ O(N) $</h3>
<ul>
  <li>N은 직사각형의 수, TC는 테스트 케이스의 수이다. 즉 사실상 $ O(N) $이다.</li>
</ul>

<p>이 글에서는 <a href="https://www.acmicpc.net/problem/6549">히스토그램에서 가장 큰 직사각형</a>의 가장 빠른 풀이인 스택을 활용한 풀이를 설명한다.<br />
이 문제는 BOJ 사이트 맨 아래에 적혀 있는 대로 세그먼트 트리($O(N log N)$), 분할 정복($O(N log N)$) 등으로도 풀 수 있다.</p>

<hr />

<h2 id="문제-풀이">문제 풀이</h2>

<p><del>개인적으로 스택 활용 문제 중 가장 멋있는 문제라고 생각…</del></p>

<p>이 문제는 처음 봤을 때는 스택이라는 것을 떠올리기가 굉장히 까다롭다. 하지만 가장 멋있는 풀이 방법이니 꼭 익혀두도록 하자.</p>

<p>우선 $O(N^2)$ 풀이부터 생각해 보자.</p>

<h3 id="on2-풀이-그냥-풀기">$O(N^2)$ 풀이: 그냥 풀기</h3>

<p>사실 이 풀이는 별 것 없다. N개의 직사각형이 있으니, [0, N) 구간이라고 생각하고, 모든 구간의 넓이를 다 구해보는 것이다. 그리고 최댓값을 찾는다.</p>

<ol>
  <li>[0, 1) 부터 [0, 2), [0, 3), …, [0, N) 구간을 검사한다. 각 구간 최댓값을 유지하면서 차례로 검사한다.</li>
  <li>[1, 2) 부터 [1, 3), [1, 4), …, [1, N) 구간을 검사한다. 각 구간 최댓값을 유지하면서 차례로 검사한다.</li>
  <li>…</li>
  <li>[N-1, N) 구간을 검사한다. 각 구간 최댓값을 유지하면서 차례로 검사한다(하나뿐이지만).</li>
  <li>이 중 최댓값을 찾는다.</li>
</ol>

<p>당연히 $O(N^2)$ 풀이는 시간 초과를 얻는다. 이를 $O(N)$으로 줄이기 위해서는, 한 칸씩 검사할 때마다 $O(N)$에 해당하는 구간을 검사해야 한다.<br />
그리고 이를 가능하게 해 주는 것이 스택이다.</p>

<h3 id="on-풀이-스택">$O(N)$ 풀이: 스택</h3>

<p>이 풀이를 어떻게 생각해냈을까라는 생각은 잠시 접어두고, 우선 풀이를 보자.</p>

<ol>
  <li>스택을 하나 생성하고, 답(ans)은 0으로 초기화해 둔다.</li>
  <li>0번째 직사각형을 처리한다. (첫 번째 직사각형이지만, 0으로 시작하는 것이 편하다)
    <ol>
      <li>0번째는 우선 스택에 집어넣어 둔다. 이 때 pair&lt;int, int&gt;를 사용하여, (위치, 직사각형의 높이)를 같이 저장한다.</li>
    </ol>
  </li>
  <li>i번째 직사각형을 처리한다.
    <ol>
      <li>이때 스택에는 몇 개인지는 모르지만 (위치, 직사각형의 높이) 쌍이 몇 개 들어 있을 것이다.</li>
      <li>스택의 top element의 높이와 i번째 직사각형의 높이를 비교한다. top element를 (top_index, top_height), i번째 직사각형을 (i_index, i_height)라고 하자.</li>
      <li>top_height &lt;= i_height이면(혹은 3.iv.b에서 다 제거해버려서 스택이 비었으면) (<strong>최소 위치</strong>, 직사각형의 높이) 쌍을 스택에 집어넣고 (i+1)번째 직사각형으로 넘어간다.
        <ol>
          <li>top_height == i_height이면 집어넣지 않아도 상관없지만, 코드가 복잡해지므로 그냥 한 번에 처리한다.</li>
          <li><strong>최소 높이</strong>란, min(i_height, 마지막으로 제거한 top_height)를 의미한다. 제거한 적이 없으면 그냥 i_height이다.</li>
        </ol>
      </li>
      <li>top_height &gt; i_height이면, 다음을 수행한다.
        <ol>
          <li>(i_index - top_index) * top_height와 ans의 max값을 ans에 넣는다.</li>
          <li>top element를 제거한다. 이때 top_height는 임시저장한다.</li>
        </ol>
      </li>
      <li>모든 직사각형을 처리했으면, 남은 스택의 top element에 대해서 iv의 동작을 반복한다.
        <ol>
          <li>이때 i_index 대신 n을 사용한다.</li>
        </ol>
      </li>
    </ol>
  </li>
</ol>

<p>이것이 알고리즘의 전부이다.<br />
BOJ의 예시(2 1 4 5 1 3 3)를 적용해 보자. 아래 그림은 BOJ에서 가져온 것이다.</p>

<p><img src="/public/img/PS/2018-07-07-PS-06549/01_histogram.png" alt="Histogram" /></p>

<ol>
  <li>스택을 하나 생성하고, ans 변수는 0으로 초기화해 둔다.</li>
  <li>0번째 직사각형을 처리한다.
    <ol>
      <li>(0,2)를 저장한다.</li>
    </ol>
  </li>
  <li>1번째 직사각형을 처리한다.
    <ol>
      <li>(0,2)가 스택에 있다.</li>
      <li>(0,2)와 (1,1)을 비교한다. 1번째 직사각형이 top element보다 더 작다.
        <ol>
          <li>(i_index - top_index) * top_height = (1-0)*2 = 2를 ans에 저장한다.
            <ul>
              <li>이것은 0번째 직사각형만을 사용하여 잘라낸 직사각형을 의미한다. 너비 1, 높이 2짜리 직사각형이다.</li>
            </ul>
          </li>
          <li>(0,2)를 스택에서 제거한다. 이때 <strong>최소 위치</strong>는 0이 된다.</li>
        </ol>
      </li>
      <li>스택이 비었으므로 (0,1)을 집어넣고(<strong>(1,1)이 아니다!</strong>) 다음으로 넘어간다.
        <ul>
          <li>이것의 의미는 다음과 같다. 위치는 0, 높이는 1을 집어넣었다. 이는 1번째 직사각형을 포함하는(높이 1 이상) 잘라낸 직사각형의 왼쪽 끝은 0이 된다는 뜻이다.</li>
          <li>그림을 보면 이해가 될 것이다. 0,1번째 직사각형 모두에서 잘라낼 때 최대 높이는 1이다.</li>
        </ul>
      </li>
    </ol>
  </li>
  <li>2번째 직사각형을 처리한다.
    <ol>
      <li>(0,1)이 스택이 있다.</li>
      <li>(0,1)과 (2,4)를 비교한다. 2번째 직사각형이 top element보다 더 크다.</li>
      <li>(2,4)를 스택에 넣고 다음으로 넘어간다.</li>
    </ol>
  </li>
  <li>3번째 직사각형을 처리한다.
    <ol>
      <li>(0,1)과 (2,4)가 스택에 있다.</li>
      <li>(2,4)와 (3,5)를 비교한다. (3,5)를 스택에 넣고 다음으로 넘어간다.</li>
    </ol>
  </li>
  <li>4번째 직사각형을 처리한다.
    <ol>
      <li>(0,1), (2,4), (3,5)가 스택에 있다.</li>
      <li>(3,5)와 (4,1)을 비교한다. 4번째 직사각형이 더 작다.
        <ol>
          <li>(4-3)*5 = 5를 ans에 저장한다.
            <ul>
              <li>3번째 직사각형만을 사용하여 잘라낸 것을 의미한다.</li>
            </ul>
          </li>
          <li>(3,5)를 스택에서 제거한다. <strong>최소 위치</strong>를 3으로 업데이트한다.</li>
        </ol>
      </li>
      <li>(2,4)와 (4,1)을 비교한다. 이번에도 4번째 직사각형이 더 작다.
        <ol>
          <li>(4-2)<em>4 = 8을 ans에 저장한다(</em>이것이 이 예시의 정답이다*).
            <ul>
              <li>2,3번째 직사각형을 사용하여 잘라낸 것을 의미한다.</li>
            </ul>
          </li>
          <li>(2,4)를 스택에서 제거한다. <strong>최소 위치</strong>를 2로 업데이트한다.</li>
        </ol>
      </li>
      <li>(0,1)과 (4,1)을 비교한다. 높이가 같으므로 (2,1)(<strong>(4,1)이 아니다!</strong>)을 스택에 집어넣고(넣지 않아도 된다) 다음으로 넘어간다.</li>
    </ol>
  </li>
  <li>5번째 직사각형을 처리한다.
    <ol>
      <li>(0,1), (2,1)이 스택에 있다.</li>
      <li>(5,3)은 (2,1)보다 높이가 높기 때문에 스택에 그대로 집어넣고 다음으로 넘어간다.</li>
    </ol>
  </li>
  <li>6번째 직사각형을 처리한다.
    <ol>
      <li>(0,1), (2,1), (5,3)이 스택에 있다.</li>
      <li>(6,3)은 (5,3)과 높이가 같기 때문에 스택에 그대로 집어넣고 다음으로 넘어간다.</li>
    </ol>
  </li>
  <li>이제 모든 직사각형을 처리했으니, 스택을 비워가면서 처리를 하면 된다.
    <ol>
      <li>(0,1), (2,1), (5,3), (6,3)이 스택에 있다.</li>
      <li>(6,3): (7-6)*3 = 3은 ans보다 작다. 6번째 직사각형만을 사용하여 잘라낸 것(너비 1, 높이 3)이다.</li>
      <li>(5,3): (7-5)*3 = 6은 ans보다 작다. 5,6번째 직사각형을 사용하여 잘라낸 것(너비 2, 높이 3)이다.</li>
      <li>(2,1): (7-2)*1 = 5은 ans보다 작다. 4,5,6번째 직사각형을 사용하여 잘라낸 것(너비 5, 높이 1)이다.</li>
      <li>(0,1): (7-0)*1 = 7은 ans보다 작다. 0~6번째 직사각형을 모두 사용하여 잘라낸 것(너비 7, 높이 1)이다.</li>
    </ol>
  </li>
</ol>

<p>같은 방법으로<br />
1,2,3,2,1(정답은 1~3번째 직사각형을 사용한 6)과<br />
3,2,1,2,3(정답은 0~4번째 직사각형을 모두 사용한 5)<br />
에 대해서도 생각해 보라.</p>

<p>이 알고리즘에 왜 동작하는지를 살펴보면 다음과 같다.</p>
<ol>
  <li>스택에는 항상 위치와 직사각형의 높이 모두 오름차순으로 정렬되어 쌓여 있다. top element가 더 높으면 항상 제거하기 때문에 이렇게 된다.</li>
  <li>i번째 직사각형을 처리할 때, 1에 의해 놓치는 <code class="highlighter-rouge">잘라낸 직사각형</code>이 없게 된다.
    <ol>
      <li>즉, (i-1)번째 직사각형이 잘라낸 직사각형의 오른쪽 끝이 되는 모든 경우를 처리하는 것이다.</li>
    </ol>
  </li>
  <li><strong>최소 높이</strong>를 사용하는 이유는, 3,2,1,2,3과 같은 경우를 처리하기 위함이다.
    <ol>
      <li>만약에 3번째 직사각형을 처리할 때 (2,1)로 그대로 집어넣어 버리면, 0~4번째 직사각형을 모두 포함한 넓이 5짜리 직사각형을 놓치게 된다.</li>
      <li>1에 의해 i번째 직사각형보다 낮은 top element를 처음 만나기 전까지는 모두 top element가 i번째 직사각형보다 높으므로, 높이 걱정을 할 필요가 없어진다.</li>
    </ol>
  </li>
</ol>

<p>이해가 안 된다면, 예시를 몇 개 더 생각해 보면서 해야 한다. 추천하는 예시는 1,2,5,2,2,1,6이다.</p>

<p>다음은 자주 하는 실수를 정리한 것이다.</p>
<ol>
  <li>마지막에 스택을 비우는 작업을 안 하는 경우. 이것은 마지막 직사각형이 잘라낸 직사각형의 오른쪽 끝이 되는 경우를 놓친 것이다.</li>
  <li>높이 10억 * 너비 10만은 int의 범위를 한참 넘는다. ans는 long long으로 선언할 것.</li>
</ol>

<h2 id="구현">구현</h2>

<p>이 문제에 적용 가능한 트릭이 몇 가지 있다.</p>

<ol>
  <li>높이가 같은 경우 스택에 넣어도 되고 안 넣어도 된다. 직관을 위해서라면 넣지 말고, 코딩의 편의성을 위해서라면 따로 처리할 필요 없다.</li>
  <li>스택을 비우는 작업을 따로 처리하는 대신, 높이 -1짜리 가상의 n번째 직사각형을 생각하자. 그러면 모든 직사각형은 이 n번째 직사각형보다 높기 때문에 스택에서 모두 제거되게 된다.</li>
</ol>

<p><strong>최소 위치</strong>는 <code class="highlighter-rouge">left</code>이다.
설명이 복잡한 것 치고는 간결한 코드이지 않은가?</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include "../library/sharifa_header.h"
</span>
<span class="kt">int</span> <span class="nf">main_06549</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="nb">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">n</span><span class="p">)</span><span class="k">break</span><span class="p">;</span>
        <span class="n">stack</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&gt;</span> <span class="n">st</span><span class="p">;</span>
        <span class="n">ll</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i_index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i_index</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">i_index</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">i_height</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">i_index</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">)</span>
                <span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">i_height</span><span class="p">);</span>
            <span class="k">else</span>
                <span class="n">i_height</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="n">i_index</span><span class="p">;</span>
            <span class="c1">// top_index: st.top().first, top_height: st.top().second</span>
            <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">st</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">st</span><span class="p">.</span><span class="n">top</span><span class="p">().</span><span class="n">second</span> <span class="o">&gt;</span> <span class="n">i_height</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">ans</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="p">((</span><span class="n">ll</span><span class="p">)</span><span class="n">i_index</span> <span class="o">-</span> <span class="n">st</span><span class="p">.</span><span class="n">top</span><span class="p">().</span><span class="n">first</span><span class="p">)</span><span class="o">*</span><span class="n">st</span><span class="p">.</span><span class="n">top</span><span class="p">().</span><span class="n">second</span><span class="p">);</span>
                <span class="n">left</span> <span class="o">=</span> <span class="n">st</span><span class="p">.</span><span class="n">top</span><span class="p">().</span><span class="n">first</span><span class="p">;</span>
                <span class="n">st</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
            <span class="p">}</span>
            <span class="n">st</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">make_pair</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">i_height</span><span class="p">));</span>
        <span class="p">}</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"%lld</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">ans</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong><em>주의: 이 코드를 그대로 복붙하여 채점 사이트에 제출하면 당연히 틀린다. 못 믿겠다면, 저런 헤더 파일이 채점 사이트에 있을 것이라 생각하는가?</em></strong></p>

  </article>
  <script type="text/javascript" async
          src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  
  <script data-ad-client="ca-pub-9951774327887666" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

</div>

<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-9951774327887666">
</amp-auto-ads>

<script data-ad-client="ca-pub-9951774327887666" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-9951774327887666"
     data-ad-slot="6606866336"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<script data-ad-client="ca-pub-9951774327887666" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
    <li>
      <h3>
        <a href="/github/2020/05/27/github-usage-09-overall/">
          GitHub 사용법 - 09. Overall
          <small>27 May 2020</small>
        </a>
      </h3>
    </li>
    
    <li>
      <h3>
        <a href="/generative/model/2020/05/25/VAE/">
          Variational AutoEncoder 설명
          <small>25 May 2020</small>
        </a>
      </h3>
    </li>
    
    <li>
      <h3>
        <a href="/machine_learning/2020/05/01/AFM/">
          추천 시스템의 기본 - 06. AFM 논문 리뷰 및 Tensorflow 구현
          <small>01 May 2020</small>
        </a>
      </h3>
    </li>
    
  </ul>
</div>

<div id="disqus_thread"></div>
<script>

  /**
   *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
   *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

  var disqus_config = function () {
    this.page.url = 'http://localhost:4000/ps/2018/07/07/PS-06549/';
    this.page.identifier = 'http://localhost:4000/ps/2018/07/07/PS-06549/';
    //this.page.url = 'https://greeksharifa.github.com/';  // Replace PAGE_URL with your page's canonical URL variable
    //this.page.identifier = 'greeksharifa'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
  };

  (function () { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://greeksharifa.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by
  Disqus.</a></noscript>

  </div>
</div>

<label for="sidebar-checkbox" class="sidebar-toggle"></label>

<script>
  (function (document) {
    let toggle = document.querySelector('.sidebar-toggle');
    let sidebar = document.querySelector('#sidebar');
    let checkbox = document.querySelector('#sidebar-checkbox');

    document.addEventListener('click', function (e) {
      let target = e.target;

      if (target === toggle) {
        checkbox.checked = !checkbox.checked;
        e.preventDefault();
      } else if (checkbox.checked && !sidebar.contains(target)) {
        /* click outside the sidebar when sidebar is open */
        checkbox.checked = false;
      }
    }, false);
  })(document);
</script>

<script>
  (function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function () {
      (i[r].q = i[r].q || []).push(arguments)
    };
    i[r].l = 1 * new Date();
    a = s.createElement(o);
    m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
  })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

  ga('create', 'UA-00000000-1', 'auto');
  ga('send', 'pageview');
</script>


<!-- Naver Analytics -->	
<script type="text/javascript" src="//wcs.naver.net/wcslog.js"></script>
<script type="text/javascript">
  if(!wcs_add) var wcs_add = {};
    wcs_add["wa"] = "18cbce78e94161";
  wcs_do();
</script>

</body>

<script id="dsq-count-scr" src="//greeksharifa-github-io.disqus.com/count.js" async></script>

</html>
